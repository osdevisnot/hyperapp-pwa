!function(){"use strict";function n(n,t){var o,a=arguments,i=[];for(e=arguments.length;e-- >2;)r.push(a[e]);for(;r.length;)if(Array.isArray(o=r.pop()))for(e=o.length;e--;)r.push(o[e]);else null!=o&&!0!==o&&!1!==o&&("number"==typeof o&&(o+=""),i.push(o));return"string"==typeof n?{tag:n,data:t||{},children:i}:n(t,i)}function t(n,t){for(var e,r,o={},a=0;a<t.length&&!e;a++){var i=t[a][0],c=[];n.replace(RegExp("*"===i?".*":"^"+i.replace(/\//g,"\\/").replace(/:([\w]+)/g,function(n,t){return c.push(t),"([-\\.%\\w]+)"})+"/?$","g"),function(){for(var n=arguments,t=1;t<arguments.length-2;)o[c.shift()]=n[t++];e=i,r=a})}return{match:e,index:r,params:o}}var e,r=[],o=[];!function(n,t){if("undefined"==typeof document)return t;n=n||"";var e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}("html {\n  font-size: calc(8px + 2vmin);\n  font-family: sans-serif;\n  background: white;\n}\n\nbody,\nbody * {\n  display: block;\n  background: none;\n  box-sizing: border-box;\n  margin: 0;\n  border: 0;\n  padding: 0;\n  outline: 0;\n}\n\nbody,\nnoscript {\n  height: 100vh;\n  display: flex;\n}\n\nnoscript {\n  width: 100vw;\n  align-items: center;\n  justify-content: center;\n  font-weight: bold;\n}\n\nbutton {\n  margin: auto;\n  padding: 2rem;\n  font-size: 8rem;\n  font-weight: bold;\n  cursor: pointer;\n  touch-action: manipulation;\n  -webkit-tap-highlight-color: rgba(0,0,0,0);\n}\n\nh1 {\n  margin: auto;\n  font-size: 1rem;\n  cursor: pointer;\n  text-decoration: underline;\n}\n",void 0),history.replaceState(null,null,sessionStorage.redirect),delete sessionStorage.redirect;var a=window.location.host.startsWith("localhost");"serviceWorker"in navigator&&!a&&navigator.serviceWorker.register("/sw.js"),function(n){function t(n,e,r){Object.keys(e||[]).map(function(o){var c=e[o],u=r?r+"."+o:o;"function"==typeof c?n[o]=function(n){i("action",{name:u,data:n});var t=i("resolve",c(p,b,n));return"function"==typeof t?t(a):a(t)}:t(n[o]||(n[o]={}),c,u)})}function e(n){for(g=h(x,g,v,v=i("render",y)(p,b),m=!m);n=o.pop();)n()}function r(){y&&!m&&requestAnimationFrame(e,m=!m)}function a(n){return"function"==typeof n?a(n(p)):(n&&(n=i("update",c(p,n)))&&r(p=n),p)}function i(n,t){return(w[n]||[]).map(function(n){var e=n(p,b,t);null!=e&&(t=e)}),t}function c(n,t){var e={};for(var r in n)e[r]=n[r];for(var r in t)e[r]=t[r];return e}function u(n){if(n&&(n=n.data))return n.key}function l(n,t){if("string"==typeof n)e=document.createTextNode(n);else{var e=(t=t||"svg"===n.tag)?document.createElementNS("http://www.w3.org/2000/svg",n.tag):document.createElement(n.tag);n.data&&n.data.oncreate&&o.push(function(){n.data.oncreate(e)});for(var r in n.data)s(e,r,n.data[r]);for(r=0;r<n.children.length;)e.appendChild(l(n.children[r++],t))}return e}function s(n,t,e,r){if("key"===t);else if("style"===t)for(var o in c(r,e=e||{}))n.style[o]=e[o]||"";else{try{n[t]=e}catch(n){}"function"!=typeof e&&(e?n.setAttribute(t,e):n.removeAttribute(t))}}function f(n,t,e){for(var r in c(t,e)){var a=e[r],i="value"===r||"checked"===r?n[r]:t[r];a!==i&&s(n,r,a,i)}e&&e.onupdate&&o.push(function(){e.onupdate(n,t)})}function d(n,t,e){e&&e.onremove?e.onremove(t):n.removeChild(t)}function h(n,t,e,r,o,a){if(null==e)t=n.insertBefore(l(r,o),t);else if(null!=r.tag&&r.tag===e.tag){f(t,e.data,r.data),o=o||"svg"===r.tag;for(var i=r.children.length,c=e.children.length,s={},p=[],g={},v=0;v<c;v++)y=p[v]=t.childNodes[v],null!=(S=u(b=e.children[v]))&&(s[S]=[y,b]);for(var v=0,m=0;m<i;){var y=p[v],b=e.children[v],w=r.children[m];if(g[S=u(b)])v++;else{var k=u(w),x=s[k]||[];null==k?(null==S&&(h(t,y,b,w,o),m++),v++):(S===k?(h(t,x[0],x[1],w,o),v++):x[0]?(t.insertBefore(x[0],y),h(t,x[0],x[1],w,o)):h(t,y,null,w,o),m++,g[k]=w)}}for(;v<c;){var S=u(b=e.children[v]);null==S&&d(t,p[v],b.data),v++}for(var v in s){var E=(x=s[v])[1];g[E.data.key]||d(t,x[0],E.data)}}else t&&r!==t.nodeValue&&("string"==typeof r&&"string"==typeof e?t.nodeValue=r:(t=n.insertBefore(l(r,o),a=t),d(n,a,e.data)));return t}var p,g,v,m,y=n.view,b={},w={},k=n.mixins||[],x=n.root||document.body;k.concat(n).map(function(n){n="function"==typeof n?n(i):n,Object.keys(n.events||[]).map(function(t){w[t]=(w[t]||[]).concat(n.events[t])}),p=c(p,n.state),t(b,n.actions)}),r((v=i("load",g=x.children[0]))===g&&(v=g=null))}({state:{count:0},actions:{add:function(n){return{count:n.count+1}}},view:[["/",function(t,e){return n("button",{onclick:e.add},t.count)}],["*",function(t,e){return n("h1",{onclick:function(n){return e.router.go("/")}},"Back to ",location.hostname)}]],mixins:[function(n){return{state:{router:{}},actions:{router:{set:function(n,t,e){return{router:e}},go:function(n,t,e){location.pathname+location.search!==e&&(history.pushState({},"",e),t.router.set({path:e}))}}},events:{load:function(n,t){addEventListener("popstate",function(){t.router.set({})})},render:function(e,r,o){return o[(e.router.index>=0?e:r.router.set(n("route",t(location.pathname,o)))).router.index][1]}}}}]})}();
